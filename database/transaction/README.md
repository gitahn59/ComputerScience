# 트랜잭션
데이터베이스 내에서 하나의 그룹으로 처리해야 하는 명령문들을 모아놓은 작업

# 2. 특징 (ACID)
## 2.1 원자성(Atomicity)
> 트랜잭션의 수행은 원자적이다(All-OR-Nothing). 모든 연산이 정상적으로 수행되면 반영하고, 어떠한 연산도 수행되지 않아야 한다.

## 2.2 일관성(Consistency)
> 트랜잭션 실행이 완료하면 언제나 일관성 있는 데이터베이스 상태로 유지되어야 한다.
> 단, 트랜잭션 수행 도중에는 일관성이 유지될 필요는 없다. 이는 DML 문장에 의해 일시적으로 불일치 상태가 나타나기 때문이다.
> 이러한 불일치 상태는 애플리케이션 프로그램 내 트랜잭션 제어 모델이나, DBMS 내 무결성 제약조건에 의해 일관성이 유지된다.

> ex)   
> A계좌와 B계좌의 합이 입출금 작업 후에도 동일해야 한다.

## 2.3 격리성(Isolation : 고립성)
> 다수의 트랜잭션이 병행 수행되는 경우, 현재 수행중인 트랜잭션의 중간 수행 결과를 다른 트랜잭션이 참조할 수 없다.
> 따라서 각 트랜잭션이 서로 독립성을 보장받으며 수행될 수 있다.   

> DBMS에서는 lock을 통해 구현되며 4개의 격리 level 이 존재한다.   
> 격리 수준이 올라갈수록 동시성을 처리하는 성능이 낮아진다. 

## 2.4 영속성(Durability : 지속성)
> 트랜잭션이 모든 작업을 성공적으로 수행 완료하여 데이터베이스에 반영했다면, 그 결과는 영구적이어야 한다.

# 3. 연산
## 3.1 COMMIT : 연산 완료
> 연산이 완료되면 데이터베이스는 새로운 일관된 상태를 보여준다.(일관성), 그리고 수행한 내용을 데이터베이스에 반영한다.(영속성)

## 3.2 ROLLBACK : 연산복귀
> 트랜잭션의 처리가 비정상적으로 종료되어 데이터베이스의 일관성을 깨뜨렸다면, 해당 트랜잭션의 원자성을 구현하기 위해모든 연산을 취소하거나 재시작한다.

# 4. 상태
## 4.1 활동
> 트랜잭션이 Begin_transaction으로부터 실행을 시작했거나 실행중인 상태

## 4.2 부분 완료
> 마지막 명령분을 실행시킨 직후 -> 실패나 완료상태로 전이됨

## 4.3 실패
> 트랜잭션 실행 중에 장애나 오류가 발생해 더이상 진행 할 수 없는 상태. -> 철회 상태로 전이

## 4.4 철회(aborted)
> 트랜잭션이 실패하여 ROLLBACK 연산을 수행한 상태 -> 재시작(트랜잭션 자체적 오류가 아닌 상태), 종료(논리적 오류, 더 이상 값이 존재하지 않음)

## 4.5 완료(committed)
> 성공적으로 완료되어 COMMIT 연산을 수행한 상태. 변경 내용이 데이터베이스 내에 안전하게 저장되며, 영속성을 보장받게 된다.
